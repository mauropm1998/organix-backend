import{c as I,m as S,a as s,o as a,b as t,p as b,u as e,F,t as r,V as L,q as p,s as _,n as $,i as D,x as M,y as v,d as h,e as T,l as H}from"./index-DSC5aajj.js";import{C as z}from"./circle-check-big-_orI_cBH.js";import{u as C}from"./useData-X35BpfxY.js";import"./userService-DmCT3zp9.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=I("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),U={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},q={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},J={class:"flex items-center"},K={class:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"},Q={class:"ml-4"},W={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},X={class:"text-2xl font-bold text-gray-900 dark:text-white"},Y={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},Z={class:"flex items-center"},tt={class:"p-2 bg-green-100 dark:bg-green-900 rounded-lg"},et={class:"ml-4"},rt={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},st={class:"text-2xl font-bold text-gray-900 dark:text-white"},at={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},dt={class:"flex items-center"},ot={class:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-lg"},nt={class:"ml-4"},lt={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},it={class:"text-2xl font-bold text-gray-900 dark:text-white"},ct={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},gt={class:"flex items-center"},ut={class:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg"},xt={class:"ml-4"},yt={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},ht={class:"text-2xl font-bold text-gray-900 dark:text-white"},bt={__name:"DashboardStats",props:{draftStats:Object,contentStats:Object,t:Function,language:String},setup(k){const i=k,{draftStats:u,contentStats:g,t:d,language:o}=S(i);return(x,m)=>(a(),s("div",U,[t("div",q,[t("div",J,[t("div",K,[b(e(F),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),t("div",Q,[t("p",W,r(e(d)("totalDrafts",e(o))),1),t("p",X,r(e(u).total),1)])])]),t("div",Y,[t("div",Z,[t("div",tt,[b(e(z),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),t("div",et,[t("p",rt,r(e(d)("approvedDrafts",e(o))),1),t("p",st,r(e(u).approved),1)])])]),t("div",at,[t("div",dt,[t("div",ot,[b(e(L),{class:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})]),t("div",nt,[t("p",lt,r(e(d)("totalContent",e(o))),1),t("p",it,r(e(g).total),1)])])]),t("div",ct,[t("div",gt,[t("div",ut,[b(e(G),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})]),t("div",xt,[t("p",yt,r(e(d)("inProduction",e(o))),1),t("p",ht,r(e(g).inProduction),1)])])])]))}},pt={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},_t={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},kt={class:"p-6 border-b border-gray-200 dark:border-gray-700"},mt={class:"text-lg font-semibold text-gray-900 dark:text-white"},ft={class:"p-6"},vt={class:"flex-1"},wt={class:"text-sm font-medium text-gray-900 dark:text-white"},$t={class:"text-xs text-gray-500 dark:text-gray-400"},Dt={key:1,class:"text-center py-6 px-4"},Ct={class:"text-gray-500 dark:text-gray-400 mb-1 font-medium"},St={class:"text-xs text-gray-400 dark:text-gray-500"},Pt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Nt={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Et={class:"text-lg font-semibold text-gray-900 dark:text-white"},jt={class:"p-6"},Ot={class:"flex-1"},Rt={class:"text-sm font-medium text-gray-900 dark:text-white"},At={class:"text-xs text-gray-500 dark:text-gray-400"},Vt={key:1,class:"text-center py-6 px-4"},Bt={class:"text-gray-500 dark:text-gray-400 mb-1 font-medium"},It={class:"text-xs text-gray-400 dark:text-gray-500"},Ft={__name:"DashboardRecent",props:{userDrafts:Array,userContent:Array,t:Function,language:String},setup(k){const i=k,{userDrafts:u,userContent:g,t:d,language:o}=S(i);function x(l){return l==="APPROVED"?"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":l==="PENDING"?"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":l==="NOT_APPROVED"?"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}function m(l){return l==="POSTED"?"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":l==="IN_PRODUCTION"?"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":l==="PENDING"?"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":l==="FINISHED"?"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":l==="CANCELED"?"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}function f(l){if(!l)return"N/A";const c=`contentTypes.${l.toLowerCase()}`,n=d.value(c,o.value);return n!==c?n:l}return(l,c)=>(a(),s("div",pt,[t("div",_t,[t("div",kt,[t("h3",mt,r(e(d)("recentDrafts",e(o))),1)]),t("div",ft,[e(u).length?(a(!0),s(p,{key:0},_(e(u).slice(0,5),n=>(a(),s("div",{key:n.id,class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-600 last:border-b-0"},[t("div",vt,[t("h4",wt,r(n.name),1),t("p",$t,r(f(n.type)),1)]),t("span",{class:$(x(n.status))},r(e(d)(n.status,e(o))),3)]))),128)):(a(),s("div",Dt,[c[0]||(c[0]=D('<div class="mx-auto mb-3 h-12 w-12 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="h-8 w-8"><path d="M7 3h6l5 5v11a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"></path><path d="M13 3v5h5"></path><path d="M9 13h6"></path><path d="M9 17h3"></path></svg></div>',1)),t("p",Ct,r(e(d)("noRecentDrafts",e(o))),1),t("p",St,r(e(d)("recentEmptyHintDrafts",e(o))),1)]))])]),t("div",Pt,[t("div",Nt,[t("h3",Et,r(e(d)("recentContent",e(o))),1)]),t("div",jt,[e(g).length?(a(!0),s(p,{key:0},_(e(g).slice(0,5),n=>(a(),s("div",{key:n.id,class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-600 last:border-b-0"},[t("div",Ot,[t("h4",Rt,r(n.name),1),t("p",At,r(f(n.type)),1)]),t("span",{class:$(m(n.status))},r(e(d)(n.status,e(o))),3)]))),128)):(a(),s("div",Vt,[c[1]||(c[1]=D('<div class="mx-auto mb-3 h-12 w-12 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" class="h-8 w-8"><rect x="3" y="4" width="7" height="7" rx="1"></rect><rect x="14" y="4" width="7" height="7" rx="1"></rect><rect x="14" y="13" width="7" height="7" rx="1"></rect><rect x="3" y="13" width="7" height="7" rx="1"></rect></svg></div>',1)),t("p",Bt,r(e(d)("noRecentContent",e(o))),1),t("p",It,r(e(d)("recentEmptyHintContent",e(o))),1)]))])])]))}},Lt={class:"space-y-8"},Mt={class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},Tt={class:"text-gray-600 dark:text-gray-400"},Ht={key:0,class:"space-y-8"},zt={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Gt={key:1},Ut={key:2,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},qt={class:"p-6 space-y-4"},Jt={key:3},Kt={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4"},Qt={class:"text-red-600"},ee={__name:"Dashboard",setup(k){const{language:i}=T(),{currentUser:u}=H(),{drafts:g,content:d,loading:o,errors:x,fetchRecentDrafts:m,fetchRecentContent:f,fetchCompanyStats:l}=C(),{draftStatsData:c,contentStatsData:n,loadingDraftStats:P,loadingContentStats:N,fetchDraftStats:E,fetchContentStats:j}=C();M(async()=>{await Promise.all([m(7),f(7),l(),E(),j()])});const O=v(()=>g.value?g.value:[]),R=v(()=>d.value?d.value:[]),A=v(()=>({total:c?.value?.total??0,approved:c?.value?.approved??0})),V=v(()=>({total:n?.value?.total??0,inProduction:n?.value?.inProduction??0}));return(Wt,y)=>(a(),s("div",Lt,[t("div",null,[t("h2",Mt,r(e(h)("dashboard",e(i))),1),t("p",Tt,r(e(h)("welcomeBack",e(i)))+", "+r(e(u).name)+"! "+r(e(h)("contentOverview",e(i))),1)]),!e(x).companyStats&&!e(x).drafts&&!e(x).content?(a(),s("div",Ht,[e(P)||e(N)?(a(),s("div",zt,[(a(),s(p,null,_(4,w=>t("div",{key:w,class:"p-6 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"},y[0]||(y[0]=[t("div",{class:"h-5 w-24 rounded mb-4 shimmer-strong"},null,-1),t("div",{class:"h-8 w-16 rounded shimmer-strong"},null,-1)]))),64))])):(a(),s("div",Gt,[b(bt,{draftStats:A.value,contentStats:V.value,t:e(h),language:e(i)},null,8,["draftStats","contentStats","t","language"])])),e(o).drafts||e(o).content?(a(),s("div",Ut,[(a(),s(p,null,_(2,w=>t("div",{key:w,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},[y[2]||(y[2]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("div",{class:"h-6 w-40 rounded shimmer-strong"})],-1)),t("div",qt,[(a(),s(p,null,_(5,B=>t("div",{key:B,class:"flex items-center justify-between py-2"},y[1]||(y[1]=[t("div",{class:"flex-1"},[t("div",{class:"h-4 w-40 rounded mb-2 shimmer"}),t("div",{class:"h-3 w-24 rounded shimmer"})],-1),t("div",{class:"h-5 w-16 rounded-full ml-4 shimmer"},null,-1)]))),64))])])),64))])):(a(),s("div",Jt,[b(Ft,{userDrafts:O.value,userContent:R.value,t:e(h),language:e(i)},null,8,["userDrafts","userContent","t","language"])]))])):(a(),s("div",Kt,[t("p",Qt,r(e(h)("errorLoadingData",e(i))),1)]))]))}};export{ee as default};
