import{c as R,a as u,o,b as t,g as T,t as a,B as L,q as w,s as D,y as A,d as b,n as _,f as I,u as s,p,x as xt,r as v,e as bt,A as ht,h as yt,j as kt}from"./index-krPxap5C.js";import{u as mt}from"./useData-45MqasNR.js";import{X as J}from"./x-BKEwTI9C.js";import{B as ft}from"./box-B5U1IAFD.js";import"./userService-oO7j-WBV.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=R("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=R("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=R("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),$t={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full"},pt={class:"w-full"},Ct={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},_t={value:""},It=["value"],Nt={class:"w-full"},St={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},Ft={value:""},At=["value"],Mt={class:"w-full"},Ot={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},Pt={value:""},Tt=["value"],Lt={class:"w-full"},jt={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},Et={value:""},Ut=["value"],Bt={__name:"CalendarFilters",props:{filters:Object,products:Array,channels:Array,statuses:Array,users:Array,t:Function,language:String},setup(e){return(m,r)=>(o(),u("div",$t,[t("div",pt,[t("label",Ct,a(e.t("product",e.language)),1),T(t("select",{"onUpdate:modelValue":r[0]||(r[0]=n=>e.filters.product=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"},[t("option",_t,a(e.t("allTypes",e.language)),1),(o(!0),u(w,null,D(e.products,n=>(o(),u("option",{key:n.id,value:n.id},a(n.name),9,It))),128))],512),[[L,e.filters.product]])]),t("div",Nt,[t("label",St,a(e.t("channels",e.language)),1),T(t("select",{"onUpdate:modelValue":r[1]||(r[1]=n=>e.filters.channel=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"},[t("option",Ft,a(e.t("allChannels",e.language)),1),(o(!0),u(w,null,D(e.channels,n=>(o(),u("option",{key:n.id,value:n.id},a(n.name),9,At))),128))],512),[[L,e.filters.channel]])]),t("div",Mt,[t("label",Ot,a(e.t("status",e.language)),1),T(t("select",{"onUpdate:modelValue":r[2]||(r[2]=n=>e.filters.status=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"},[t("option",Pt,a(e.t("allStatuses",e.language)),1),(o(!0),u(w,null,D(e.statuses,n=>(o(),u("option",{key:n,value:n},a(e.t(n,e.language)),9,Tt))),128))],512),[[L,e.filters.status]])]),t("div",Lt,[t("label",jt,a(e.t("user",e.language)),1),T(t("select",{"onUpdate:modelValue":r[3]||(r[3]=n=>e.filters.user=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"},[t("option",Et,a(e.t("allTypes",e.language)),1),(o(!0),u(w,null,D(e.users,n=>(o(),u("option",{key:n.id,value:n.id},a(n.name),9,Ut))),128))],512),[[L,e.filters.user]])])]))}},Yt={class:"w-full"},zt={class:"grid grid-cols-7 gap-1 mb-4"},Gt={class:"grid grid-cols-7 gap-1"},Ht={class:"space-y-1"},Rt=["onClick","title"],Vt={class:"truncate font-medium"},qt={class:"truncate opacity-75"},Wt={class:"truncate opacity-60"},Xt=["onClick"],Jt={__name:"CalendarGrid",props:{days:Array,products:Array,language:String},emits:["select","showAll"],setup(e,{emit:m}){const r=e,n=A(()=>[b("sun",r.language),b("mon",r.language),b("tue",r.language),b("wed",r.language),b("thu",r.language),b("fri",r.language),b("sat",r.language)]),$=A(()=>{if(!r.days||r.days.length===0)return[];const l=new Date(r.days[0].date),i=new Date(r.days[r.days.length-1].date),d=l.getDay(),h=i.getDay(),k=[];for(let c=0;c<d;c++)k.push({key:"empty-start-"+c,label:"",content:[],isCurrentMonth:!1,date:null});for(const c of r.days)k.push({key:c.date,label:c.label,content:c.content,isCurrentMonth:!0,date:c.date});for(let c=h+1;c<7;c++)k.push({key:"empty-end-"+c,label:"",content:[],isCurrentMonth:!1,date:null});return k});function C(l){if(!l)return!1;const i=new Date(l),d=new Date;return i.getDate()===d.getDate()&&i.getMonth()===d.getMonth()&&i.getFullYear()===d.getFullYear()}function g(l){const i=r.products.find(d=>d.id===l);return i?i.name:""}return(l,i)=>(o(),u("div",Yt,[t("div",zt,[(o(!0),u(w,null,D(n.value,d=>(o(),u("div",{key:d,class:"p-2 text-center text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"},a(d),1))),128))]),t("div",Gt,[(o(!0),u(w,null,D($.value,d=>(o(),u("div",{key:d.key,class:_(["min-h-[120px] p-2 border border-gray-200 dark:border-gray-700 rounded-lg flex flex-col",d.isCurrentMonth?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900",C(d.date)?"ring-2 ring-blue-500":""])},[t("div",{class:_(["text-sm font-medium mb-2",d.isCurrentMonth?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-600",C(d.date)?"text-blue-600 dark:text-blue-400":""])},a(d.label),3),t("div",Ht,[(o(!0),u(w,null,D(d.content.slice(0,3),h=>(o(),u("div",{key:h.id,onClick:k=>l.$emit("select",h),class:_(["text-xs p-1 rounded cursor-pointer hover:opacity-80 transition-opacity truncate font-medium",h.status==="POSTED"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":h.status==="IN_PRODUCTION"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":h.status==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":h.status==="FINISHED"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"]),title:h.name+" - "+g(h.product)},[t("div",Vt,a(h.name),1),t("div",qt,a(g(h.product)),1),t("div",Wt,a(s(b)(h.status,r.language)),1)],10,Rt))),128)),d.content.length>3?(o(),u("div",{key:0,onClick:h=>l.$emit("showAll",d.content,d.date),class:"text-xs text-gray-500 dark:text-gray-400 text-center cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors"}," +"+a(d.content.length-3)+" "+a(s(b)("more",r.language)),9,Xt)):I("",!0)])],2))),128))])]))}},Kt={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50"},Qt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Zt={class:"p-6"},te={class:"flex justify-between items-start mb-4"},ee={class:"text-xl font-semibold text-gray-900 dark:text-white"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},se={class:"space-y-4"},ne={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},re={class:"text-gray-900 dark:text-white"},le={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},oe={class:"flex items-center space-x-3"},de={class:"text-gray-900 dark:text-white"},ce={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},ue={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},ie={class:"flex flex-wrap gap-2"},ge={class:"space-y-4"},xe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},be={class:"text-gray-900 dark:text-white"},he={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},ye={class:"text-gray-900 dark:text-white"},ke={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},me={class:"text-gray-900 dark:text-white"},fe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},ve={class:"text-gray-900 dark:text-white"},we={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},De={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},$e={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},pe={class:"text-center"},Ce={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},_e={class:"text-sm text-gray-600 dark:text-gray-400"},Ie={class:"text-center"},Ne={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Se={class:"text-sm text-gray-600 dark:text-gray-400"},Fe={class:"text-center"},Ae={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},Me={class:"text-sm text-gray-600 dark:text-gray-400"},Oe={class:"text-center"},Pe={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},Te={class:"text-sm text-gray-600 dark:text-gray-400"},Le={class:"text-center"},je={class:"text-2xl font-bold text-indigo-600 dark:text-indigo-400"},Ee={class:"text-sm text-gray-600 dark:text-gray-400"},Ue={class:"text-center"},Be={class:"text-2xl font-bold text-pink-600 dark:text-pink-400"},Ye={class:"text-sm text-gray-600 dark:text-gray-400"},ze={__name:"ContentDetailModal",props:{show:Boolean,content:Object,product:Object,creator:Object,producer:Object,t:Function,language:String},emits:["close"],setup(e,{emit:m}){const r=e;function n(g){if(!g)return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";const l=g.toLowerCase();return l==="posted"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":l==="in_production"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":l==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":l==="finished"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":l==="canceled"?"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}const $=g=>{if(!g)return"";let l;if(Array.isArray(g)){const[k,c,N,j=0,E=0]=g;l=new Date(k,c-1,N,j,E)}else l=new Date(g);const i=r.language==="pt"?"pt-PT":"en-US",d=l.toLocaleDateString(i),h=l.toLocaleTimeString(i,{hour:"2-digit",minute:"2-digit"});return`${d} ${h}`};function C(g){if(!g)return"N/A";const l=`contentTypes.${g.toLowerCase()}`,i=r.t(l,r.language);return i!==l?i:g}return(g,l)=>e.show?(o(),u("div",Kt,[t("div",Qt,[t("div",Zt,[t("div",te,[t("h3",ee,a(e.content?.name),1),t("button",{onClick:l[0]||(l[0]=i=>g.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[p(s(J),{class:"w-6 h-6"})])]),t("div",ae,[t("div",se,[t("div",null,[t("label",ne,a(e.t("type",e.language)),1),t("p",re,a(C(e.content?.type)),1)]),t("div",null,[t("label",le,a(e.t("product",e.language)),1),t("div",oe,[p(s(ft),{class:"w-8 h-8 text-blue-500 dark:text-blue-400"}),t("p",de,a(e.product?.name||e.content?.productName||"Unknown"),1)])]),t("div",null,[t("label",ce,a(e.t("status",e.language)),1),t("span",{class:_(["inline-block px-3 py-1 text-sm rounded-full",n(e.content?.status)])},a(e.t(e.content?.status,e.language)),3)]),t("div",null,[t("label",ue,a(e.t("channels",e.language)),1),t("div",ie,[(o(!0),u(w,null,D(e.content?.channels||[],i=>(o(),u("span",{key:i.id,class:"inline-block px-2 py-1 text-xs bg-gray-100 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded"},a(i.name),1))),128))])])]),t("div",ge,[t("div",null,[t("label",xe,a(e.t("creator",e.language)),1),t("p",be,a(e.creator?.name||e.content?.creatorName||"Unknown"),1)]),t("div",null,[t("label",he,a(e.t("producer",e.language)),1),t("p",ye,a(e.producer?.name||e.content?.producerName||"Unknown"),1)]),t("div",null,[t("label",ke,a(e.t("created",e.language)),1),t("p",me,a($(e.content?.creationDate)),1)]),t("div",null,[t("label",fe,a(e.t("postDate",e.language)),1),t("p",ve,a($(e.content?.postDate)),1)])])]),e.content?.metrics?(o(),u("div",we,[t("h4",De,a(e.t("performance",e.language)),1),t("div",$e,[t("div",pe,[t("p",Ce,a(e.content.metrics.views),1),t("p",_e,a(e.t("views",e.language)),1)]),t("div",Ie,[t("p",Ne,a(e.content.metrics.likes),1),t("p",Se,a(e.t("likes",e.language)),1)]),t("div",Fe,[t("p",Ae,a(e.content.metrics.reach),1),t("p",Me,a(e.t("reach",e.language)),1)]),t("div",Oe,[t("p",Pe,a(e.content.metrics.engagement),1),t("p",Te,a(e.t("engagement",e.language)),1)]),t("div",Le,[t("p",je,a(e.content.metrics.comments),1),t("p",Ee,a(e.t("comments",e.language)),1)]),t("div",Ue,[t("p",Be,a(e.content.metrics.shares),1),t("p",Ye,a(e.t("shares",e.language)),1)])])])):I("",!0)])])])):I("",!0)}},Ge={class:"space-y-6 w-full mx-auto"},He={class:"flex justify-between items-center"},Re={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ve={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},qe={class:"flex justify-between items-center mb-4"},We={class:"text-lg font-semibold text-gray-900 dark:text-white"},Xe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Je={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},Ke=["aria-label"],Qe={class:"text-xl font-semibold text-gray-900 dark:text-white"},Ze=["aria-label"],ta={class:"p-6"},ea={key:2,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50"},aa={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto"},sa={class:"p-6"},na={class:"flex justify-between items-center mb-4"},ra={class:"text-lg font-semibold text-gray-900 dark:text-white"},la={class:"space-y-2"},oa=["onClick"],da={class:"font-medium text-gray-900 dark:text-white"},ca={class:"text-sm text-gray-600 dark:text-gray-400"},ua={class:"text-xs mt-1"},ya={__name:"Calendar",setup(e){const{language:m}=bt(),{content:r,products:n,users:$,channels:C,fetchContent:g,fetchProducts:l,fetchUsers:i,fetchChannels:d}=mt(),h=["PENDING","CANCELED","POSTED","IN_PRODUCTION","FINISHED"];xt(async()=>{await Promise.all([g(),l(),i(),d()])});const k=v(new Date),c=v({product:"",channel:"",status:"",user:""}),N=v(!1),j=A(()=>k.value.toLocaleString(m.value==="pt"?"pt-PT":"en-US",{month:"long",year:"numeric"}));function E(){k.value=new Date(k.value.getFullYear(),k.value.getMonth()-1,1)}function K(){k.value=new Date(k.value.getFullYear(),k.value.getMonth()+1,1)}function Q(){c.value={product:"",channel:"",status:"",user:""}}ht(c,async()=>{await Z()},{deep:!0});const Z=async()=>{const x={};c.value.status&&(x.status=c.value.status),c.value.channel&&(x.channelId=c.value.channel),c.value.product&&(x.productId=c.value.product),c.value.user&&(x.userId=c.value.user),await g(x)},tt=A(()=>r.value.filter(x=>!0));function et(x){const f=x.getFullYear(),y=x.getMonth(),O=new Date(f,y+1,0),X=[];for(let S=1;S<=O.getDate();S++){const lt=new Date(f,y,S);X.push({date:lt.toISOString(),label:S,content:tt.value.filter(P=>{if(!P.postDate)return!1;let F;if(Array.isArray(P.postDate)){const[ot,dt,ct,ut=0,it=0,gt=0]=P.postDate;F=new Date(ot,dt-1,ct,ut,it,gt)}else F=new Date(P.postDate);return F.getFullYear()===f&&F.getMonth()===y&&F.getDate()===S})})}return X}const at=A(()=>et(k.value)),M=v(!1),U=v(null),B=v(null),Y=v(null),z=v(null),G=v(!1),V=v(null),H=v([]);function q(x){U.value=x,B.value=n.value.find(f=>f.id===x.productId),Y.value=$.value.find(f=>f.id===x.creatorId),z.value=$.value.find(f=>f.id===x.producerId),M.value=!0}function st(x,f){H.value=x,V.value=f,G.value=!0}function W(){G.value=!1,H.value=[],V.value=null}function nt(x){W(),q(x)}function rt(){M.value=!1,U.value=null,B.value=null,Y.value=null,z.value=null}return(x,f)=>(o(),u("div",Ge,[t("div",He,[t("h2",Re,a(s(b)("calendar",s(m))),1),t("button",{class:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-base font-semibold",onClick:f[0]||(f[0]=y=>N.value=!N.value)},[p(s(Dt),{class:"w-4 h-4 mr-2"}),kt(" "+a(s(b)("filters",s(m))),1)])]),N.value?(o(),u("div",Ve,[t("div",qe,[t("h3",We,a(s(b)("filters",s(m))),1),t("button",{onClick:Q,class:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300"},a(s(b)("clearAll",s(m))),1)]),p(Bt,{filters:c.value,products:s(n),channels:s(C),statuses:h,users:s($),t:s(b),language:s(m)},null,8,["filters","products","channels","users","t","language"])])):I("",!0),t("div",Xe,[t("div",Je,[t("button",{onClick:E,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":s(b)("previousMonth",s(m))},[p(s(vt),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})],8,Ke),t("h3",Qe,a(j.value),1),t("button",{onClick:K,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":s(b)("nextMonth",s(m))},[p(s(wt),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})],8,Ze)]),t("div",ta,[p(Jt,{days:at.value,products:s(n),language:s(m),onSelect:q,onShowAll:st},null,8,["days","products","language"])])]),M.value?(o(),yt(ze,{key:1,show:M.value,content:U.value,product:B.value,creator:Y.value,producer:z.value,t:s(b),language:s(m),onClose:rt},null,8,["show","content","product","creator","producer","t","language"])):I("",!0),G.value?(o(),u("div",ea,[t("div",aa,[t("div",sa,[t("div",na,[t("h3",ra,a(s(b)("contentForDate",s(m))),1),t("button",{onClick:W,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[p(s(J),{class:"w-6 h-6"})])]),t("div",la,[(o(!0),u(w,null,D(H.value,y=>(o(),u("div",{key:y.id,onClick:O=>nt(y),class:_(["p-3 rounded-lg cursor-pointer hover:opacity-80 transition-opacity border-l-4",y.status==="POSTED"?"bg-green-50 border-green-500 dark:bg-green-900/20":y.status==="IN_PRODUCTION"?"bg-blue-50 border-blue-500 dark:bg-blue-900/20":y.status==="PENDING"?"bg-yellow-50 border-yellow-500 dark:bg-yellow-900/20":y.status==="FINISHED"?"bg-purple-50 border-purple-500 dark:bg-purple-900/20":"bg-red-50 border-red-500 dark:bg-red-900/20"])},[t("div",da,a(y.name),1),t("div",ca,a(s(n).find(O=>O.id===y.productId)?.name),1),t("div",ua,[t("span",{class:_(["px-2 py-1 rounded-full",y.status==="POSTED"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":y.status==="IN_PRODUCTION"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":y.status==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":y.status==="FINISHED"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},a(s(b)(y.status,s(m))),3)])],10,oa))),128))])])])])):I("",!0)]))}};export{ya as default};
