import{c as P,m as C,a as l,o as c,b as e,p as g,u as t,F as I,t as r,V as E,q as k,s as f,n as D,x as O,y as w,l as A,d as b,e as T}from"./index-CWbGlPLC.js";import{C as R}from"./circle-check-big-5B_O2kXK.js";import{_ as h}from"./SkeletonLoader-Bd7IEoAO.js";import{u as V}from"./useData-B7VlmU_F.js";import"./userService-DjmtoxOE.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=P("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},j={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},B={class:"flex items-center"},G={class:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"},M={class:"ml-4"},U={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},z={class:"text-2xl font-bold text-gray-900 dark:text-white"},H={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},Y={class:"flex items-center"},q={class:"p-2 bg-green-100 dark:bg-green-900 rounded-lg"},J={class:"ml-4"},K={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},Q={class:"text-2xl font-bold text-gray-900 dark:text-white"},W={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},X={class:"flex items-center"},Z={class:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-lg"},tt={class:"ml-4"},et={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},rt={class:"text-2xl font-bold text-gray-900 dark:text-white"},st={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},at={class:"flex items-center"},dt={class:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg"},ot={class:"ml-4"},nt={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},lt={class:"text-2xl font-bold text-gray-900 dark:text-white"},ct={__name:"DashboardStats",props:{draftStats:Object,contentStats:Object,t:Function,language:String},setup(m){const u=m,{draftStats:i,contentStats:_,t:d,language:o}=C(u);return(x,v)=>(c(),l("div",L,[e("div",j,[e("div",B,[e("div",G,[g(t(I),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),e("div",M,[e("p",U,r(t(d)("totalDrafts",t(o))),1),e("p",z,r(t(i).total),1)])])]),e("div",H,[e("div",Y,[e("div",q,[g(t(R),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),e("div",J,[e("p",K,r(t(d)("approvedDrafts",t(o))),1),e("p",Q,r(t(i).approved),1)])])]),e("div",W,[e("div",X,[e("div",Z,[g(t(E),{class:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})]),e("div",tt,[e("p",et,r(t(d)("totalContent",t(o))),1),e("p",rt,r(t(_).total),1)])])]),e("div",st,[e("div",at,[e("div",dt,[g(t(F),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})]),e("div",ot,[e("p",nt,r(t(d)("inProduction",t(o))),1),e("p",lt,r(t(_).inProduction),1)])])])]))}},it={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},gt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},ut={class:"p-6 border-b border-gray-200 dark:border-gray-700"},_t={class:"text-lg font-semibold text-gray-900 dark:text-white"},yt={class:"p-6"},xt={class:"flex-1"},bt={class:"text-sm font-medium text-gray-900 dark:text-white"},pt={class:"text-xs text-gray-500 dark:text-gray-400"},ht={key:1,class:"text-gray-500 dark:text-gray-400 text-center py-4"},kt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},ft={class:"p-6 border-b border-gray-200 dark:border-gray-700"},mt={class:"text-lg font-semibold text-gray-900 dark:text-white"},vt={class:"p-6"},wt={class:"flex-1"},$t={class:"text-sm font-medium text-gray-900 dark:text-white"},Dt={class:"text-xs text-gray-500 dark:text-gray-400"},Ct={key:1,class:"text-gray-500 dark:text-gray-400 text-center py-4"},Nt={__name:"DashboardRecent",props:{userDrafts:Array,userContent:Array,t:Function,language:String},setup(m){const u=m,{userDrafts:i,userContent:_,t:d,language:o}=C(u);function x(n){return n==="APPROVED"?"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n==="PENDING"?"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":n==="NOT_APPROVED"?"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}function v(n){return n==="POSTED"?"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":n==="IN_PRODUCTION"?"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":n==="PENDING"?"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":n==="FINISHED"?"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":n==="CANCELED"?"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}function $(n){if(!n)return"N/A";const y=`contentTypes.${n.toLowerCase()}`,s=d.value(y,o.value);return s!==y?s:n}return(n,y)=>(c(),l("div",it,[e("div",gt,[e("div",ut,[e("h3",_t,r(t(d)("recentDrafts",t(o))),1)]),e("div",yt,[t(i).length?(c(!0),l(k,{key:0},f(t(i).slice(0,5),s=>(c(),l("div",{key:s.id,class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-600 last:border-b-0"},[e("div",xt,[e("h4",bt,r(s.name),1),e("p",pt,r(t(d)(`contentTypes.${s.type}`,t(o))||s.type),1)]),e("span",{class:D(x(s.status))},r(t(d)(s.status,t(o))),3)]))),128)):(c(),l("p",ht,r(t(d)("noDraftsYet",t(o))),1))])]),e("div",kt,[e("div",ft,[e("h3",mt,r(t(d)("recentContent",t(o))),1)]),e("div",vt,[t(_).length?(c(!0),l(k,{key:0},f(t(_).slice(0,5),s=>(c(),l("div",{key:s.id,class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-600 last:border-b-0"},[e("div",wt,[e("h4",$t,r(s.name),1),e("p",Dt,r($(s.type)),1)]),e("span",{class:D(v(s.status))},r(t(d)(s.status,t(o))),3)]))),128)):(c(),l("p",Ct,r(t(d)("noContentYet",t(o))),1))])])]))}},St={class:"space-y-8"},Pt={class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},It={class:"text-gray-600 dark:text-gray-400"},Et={key:0,class:"space-y-8"},Ot={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},At={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Tt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Rt={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Vt={class:"p-6 space-y-4"},Ft={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Lt={class:"p-6 border-b border-gray-200 dark:border-gray-700"},jt={class:"p-6 space-y-4"},Bt={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4"},Gt={class:"text-red-600"},Mt={key:2,class:"space-y-8"},Kt={__name:"Dashboard",setup(m){const{language:u}=T(),{currentUser:i}=A(),{drafts:_,content:d,loading:o,errors:x,fetchDrafts:v,fetchContent:$,fetchCompanyStats:n}=V();O(async()=>{await Promise.all([v(),$(),n()])});const y=w(()=>!_.value||!i.value?[]:i.value.adminType==="ADMIN"?_.value:_.value.filter(a=>a.creatorId===i.value.id)),s=w(()=>!d.value||!i.value?[]:i.value.adminType==="ADMIN"?d.value:d.value.filter(a=>a.creatorId===i.value.id||a.producerId===i.value.id)),N=w(()=>({total:y.value.length,approved:y.value.filter(a=>a.status==="APPROVED").length,pending:y.value.filter(a=>a.status==="PENDING").length,rejected:y.value.filter(a=>a.status==="NOT_APPROVED").length})),S=w(()=>({total:s.value.length,inProduction:s.value.filter(a=>a.status==="IN_PRODUCTION").length,pending:s.value.filter(a=>a.status==="PENDING").length,posted:s.value.filter(a=>a.status==="POSTED").length,finished:s.value.filter(a=>a.status==="FINISHED").length}));return(a,Ut)=>(c(),l("div",St,[e("div",null,[e("h2",Pt,r(t(b)("dashboard",t(u))),1),e("p",It,r(t(b)("welcomeBack",t(u)))+", "+r(t(i).name)+"! "+r(t(b)("contentOverview",t(u))),1)]),t(o).companyStats||t(o).drafts||t(o).content?(c(),l("div",Et,[e("div",Ot,[(c(),l(k,null,f(4,p=>g(h,{type:"card",key:p})),64))]),e("div",At,[e("div",Tt,[e("div",Rt,[g(h,{customClass:"h-6 w-32"})]),e("div",Vt,[(c(),l(k,null,f(5,p=>g(h,{type:"list-item",key:p})),64))])]),e("div",Ft,[e("div",Lt,[g(h,{customClass:"h-6 w-32"})]),e("div",jt,[(c(),l(k,null,f(5,p=>g(h,{type:"list-item",key:p})),64))])])])])):t(x).companyStats||t(x).drafts||t(x).content?(c(),l("div",Bt,[e("p",Gt,r(t(b)("errorLoadingData",t(u))),1)])):(c(),l("div",Mt,[g(ct,{draftStats:N.value,contentStats:S.value,t:t(b),language:t(u)},null,8,["draftStats","contentStats","t","language"]),g(Nt,{userDrafts:y.value,userContent:s.value,t:t(b),language:t(u)},null,8,["userDrafts","userContent","t","language"])]))]))}};export{Kt as default};
