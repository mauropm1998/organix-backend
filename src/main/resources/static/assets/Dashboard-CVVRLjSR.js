import{c as N,m as C,a as n,o as l,b as t,p as i,u as e,F as E,t as r,V as O,q as k,s as f,n as D,x as I,y as $,l as A,d as b,e as T}from"./index-DREGtBfx.js";import{C as R}from"./circle-check-big-BnKjw7uM.js";import{_ as p}from"./SkeletonLoader-CVbr6uya.js";import{u as V}from"./useData-BrohWoT6.js";import"./userService-CKXDl8V0.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=N("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},j={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},B={class:"flex items-center"},G={class:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg"},U={class:"ml-4"},z={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},H={class:"text-2xl font-bold text-gray-900 dark:text-white"},M={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},Y={class:"flex items-center"},q={class:"p-2 bg-green-100 dark:bg-green-900 rounded-lg"},J={class:"ml-4"},K={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},Q={class:"text-2xl font-bold text-gray-900 dark:text-white"},W={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},X={class:"flex items-center"},Z={class:"p-2 bg-indigo-100 dark:bg-indigo-900 rounded-lg"},tt={class:"ml-4"},et={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},rt={class:"text-2xl font-bold text-gray-900 dark:text-white"},st={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700"},at={class:"flex items-center"},dt={class:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg"},ot={class:"ml-4"},nt={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},lt={class:"text-2xl font-bold text-gray-900 dark:text-white"},ct={__name:"DashboardStats",props:{draftStats:Object,contentStats:Object,t:Function,language:String},setup(m){const g=m,{draftStats:u,contentStats:x,t:o,language:a}=C(g);return(y,v)=>(l(),n("div",L,[t("div",j,[t("div",B,[t("div",G,[i(e(E),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),t("div",U,[t("p",z,r(e(o)("totalDrafts",e(a))),1),t("p",H,r(e(u).total),1)])])]),t("div",M,[t("div",Y,[t("div",q,[i(e(R),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),t("div",J,[t("p",K,r(e(o)("approvedDrafts",e(a))),1),t("p",Q,r(e(u).approved),1)])])]),t("div",W,[t("div",X,[t("div",Z,[i(e(O),{class:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})]),t("div",tt,[t("p",et,r(e(o)("totalContent",e(a))),1),t("p",rt,r(e(x).total),1)])])]),t("div",st,[t("div",at,[t("div",dt,[i(e(F),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})]),t("div",ot,[t("p",nt,r(e(o)("inProduction",e(a))),1),t("p",lt,r(e(x).inProduction),1)])])])]))}},it={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},gt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},ut={class:"p-6 border-b border-gray-200 dark:border-gray-700"},_t={class:"text-lg font-semibold text-gray-900 dark:text-white"},xt={class:"p-6"},yt={class:"flex-1"},bt={class:"text-sm font-medium text-gray-900 dark:text-white"},ht={class:"text-xs text-gray-500 dark:text-gray-400"},pt={key:1,class:"text-gray-500 dark:text-gray-400 text-center py-4"},kt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},ft={class:"p-6 border-b border-gray-200 dark:border-gray-700"},mt={class:"text-lg font-semibold text-gray-900 dark:text-white"},vt={class:"p-6"},wt={class:"flex-1"},$t={class:"text-sm font-medium text-gray-900 dark:text-white"},Dt={class:"text-xs text-gray-500 dark:text-gray-400"},Ct={key:1,class:"text-gray-500 dark:text-gray-400 text-center py-4"},St={__name:"DashboardRecent",props:{userDrafts:Array,userContent:Array,t:Function,language:String},setup(m){const g=m,{userDrafts:u,userContent:x,t:o,language:a}=C(g);function y(d){return d==="APPROVED"?"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":d==="PENDING"?"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":d==="NOT_APPROVED"?"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}function v(d){return d==="POSTED"?"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":d==="IN_PRODUCTION"?"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":d==="PENDING"?"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":d==="FINISHED"?"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":d==="CANCELED"?"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}function w(d){if(!d)return"N/A";const _=`contentTypes.${d.toLowerCase()}`,s=o.value(_,a.value);return s!==_?s:d}return(d,_)=>(l(),n("div",it,[t("div",gt,[t("div",ut,[t("h3",_t,r(e(o)("recentDrafts",e(a))),1)]),t("div",xt,[e(u).length?(l(!0),n(k,{key:0},f(e(u).slice(0,5),s=>(l(),n("div",{key:s.id,class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-600 last:border-b-0"},[t("div",yt,[t("h4",bt,r(s.name),1),t("p",ht,r(w(s.type)),1)]),t("span",{class:D(y(s.status))},r(e(o)(s.status,e(a))),3)]))),128)):(l(),n("p",pt,r(e(o)("noDraftsYet",e(a))),1))])]),t("div",kt,[t("div",ft,[t("h3",mt,r(e(o)("recentContent",e(a))),1)]),t("div",vt,[e(x).length?(l(!0),n(k,{key:0},f(e(x).slice(0,5),s=>(l(),n("div",{key:s.id,class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-600 last:border-b-0"},[t("div",wt,[t("h4",$t,r(s.name),1),t("p",Dt,r(w(s.type)),1)]),t("span",{class:D(v(s.status))},r(e(o)(s.status,e(a))),3)]))),128)):(l(),n("p",Ct,r(e(o)("noContentYet",e(a))),1))])])]))}},Pt={class:"space-y-8"},Nt={class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},Et={class:"text-gray-600 dark:text-gray-400"},Ot={key:0,class:"space-y-8"},It={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},At={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Tt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Rt={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Vt={class:"p-6 space-y-4"},Ft={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},Lt={class:"p-6 border-b border-gray-200 dark:border-gray-700"},jt={class:"p-6 space-y-4"},Bt={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4"},Gt={class:"text-red-600"},Ut={key:2,class:"space-y-8"},Kt={__name:"Dashboard",setup(m){const{language:g}=T(),{currentUser:u}=A(),{drafts:x,content:o,loading:a,errors:y,fetchDrafts:v,fetchContent:w,fetchCompanyStats:d}=V();I(async()=>{await Promise.all([v(),w(),d()])});const _=$(()=>!x.value||!u.value?[]:x.value),s=$(()=>!o.value||!u.value?[]:o.value),S=$(()=>({total:_.value.length,approved:_.value.filter(c=>c.status==="APPROVED").length,pending:_.value.filter(c=>c.status==="PENDING").length,rejected:_.value.filter(c=>c.status==="NOT_APPROVED").length})),P=$(()=>({total:s.value.length,inProduction:s.value.filter(c=>c.status==="IN_PRODUCTION").length,pending:s.value.filter(c=>c.status==="PENDING").length,posted:s.value.filter(c=>c.status==="POSTED").length,finished:s.value.filter(c=>c.status==="FINISHED").length}));return(c,zt)=>(l(),n("div",Pt,[t("div",null,[t("h2",Nt,r(e(b)("dashboard",e(g))),1),t("p",Et,r(e(b)("welcomeBack",e(g)))+", "+r(e(u).name)+"! "+r(e(b)("contentOverview",e(g))),1)]),e(a).companyStats||e(a).drafts||e(a).content?(l(),n("div",Ot,[t("div",It,[(l(),n(k,null,f(4,h=>i(p,{type:"card",key:h})),64))]),t("div",At,[t("div",Tt,[t("div",Rt,[i(p,{customClass:"h-6 w-32"})]),t("div",Vt,[(l(),n(k,null,f(5,h=>i(p,{type:"list-item",key:h})),64))])]),t("div",Ft,[t("div",Lt,[i(p,{customClass:"h-6 w-32"})]),t("div",jt,[(l(),n(k,null,f(5,h=>i(p,{type:"list-item",key:h})),64))])])])])):e(y).companyStats||e(y).drafts||e(y).content?(l(),n("div",Bt,[t("p",Gt,r(e(b)("errorLoadingData",e(g))),1)])):(l(),n("div",Ut,[i(ct,{draftStats:S.value,contentStats:P.value,t:e(b),language:e(g)},null,8,["draftStats","contentStats","t","language"]),i(St,{userDrafts:_.value,userContent:s.value,t:e(b),language:e(g)},null,8,["userDrafts","userContent","t","language"])]))]))}};export{Kt as default};
