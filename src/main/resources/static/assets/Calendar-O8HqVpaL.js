import{c as z,a as u,o,b as t,g as E,t as a,B as L,q as p,s as D,y as M,d as g,n as _,f as I,u as s,p as C,x as xt,r as w,e as bt,A as yt,h as ht,j as kt}from"./index-CWbGlPLC.js";import{u as mt}from"./useData-B7VlmU_F.js";import{X}from"./x-EhUOUyi6.js";import{B as vt}from"./box-B518OR41.js";import"./userService-DjmtoxOE.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=z("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=z("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=z("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Dt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 w-full"},$t={class:"w-full"},Ct={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},_t={value:""},It=["value"],Nt={class:"w-full"},St={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},Ft={value:""},Mt=["value"],Ot={class:"w-full"},At={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},Pt={value:""},Et=["value"],Lt={class:"w-full"},Tt={class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},jt={value:""},Ut=["value"],Bt={__name:"CalendarFilters",props:{filters:Object,products:Array,channels:Array,statuses:Array,users:Array,t:Function,language:String},setup(e){return(k,l)=>(o(),u("div",Dt,[t("div",$t,[t("label",Ct,a(e.t("product",e.language)),1),E(t("select",{"onUpdate:modelValue":l[0]||(l[0]=n=>e.filters.product=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"},[t("option",_t,a(e.t("allTypes",e.language)),1),(o(!0),u(p,null,D(e.products,n=>(o(),u("option",{key:n.id,value:n.id},a(n.name),9,It))),128))],512),[[L,e.filters.product]])]),t("div",Nt,[t("label",St,a(e.t("channels",e.language)),1),E(t("select",{"onUpdate:modelValue":l[1]||(l[1]=n=>e.filters.channel=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"},[t("option",Ft,a(e.t("allChannels",e.language)),1),(o(!0),u(p,null,D(e.channels,n=>(o(),u("option",{key:n.id,value:n.id},a(n.name),9,Mt))),128))],512),[[L,e.filters.channel]])]),t("div",Ot,[t("label",At,a(e.t("status",e.language)),1),E(t("select",{"onUpdate:modelValue":l[2]||(l[2]=n=>e.filters.status=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"},[t("option",Pt,a(e.t("allStatuses",e.language)),1),(o(!0),u(p,null,D(e.statuses,n=>(o(),u("option",{key:n,value:n},a(e.t(n,e.language)),9,Et))),128))],512),[[L,e.filters.status]])]),t("div",Lt,[t("label",Tt,a(e.t("user",e.language)),1),E(t("select",{"onUpdate:modelValue":l[3]||(l[3]=n=>e.filters.user=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"},[t("option",jt,a(e.t("allTypes",e.language)),1),(o(!0),u(p,null,D(e.users,n=>(o(),u("option",{key:n.id,value:n.id},a(n.name),9,Ut))),128))],512),[[L,e.filters.user]])])]))}},Rt={class:"w-full"},Vt={class:"grid grid-cols-7 gap-1 mb-4"},Yt={class:"grid grid-cols-7 gap-1"},zt={class:"space-y-1"},Gt=["onClick","title"],Ht={class:"truncate font-medium"},qt={class:"truncate opacity-75"},Wt={class:"truncate opacity-60"},Xt=["onClick"],Jt={__name:"CalendarGrid",props:{days:Array,products:Array,language:String},emits:["select","showAll"],setup(e,{emit:k}){const l=e,n=M(()=>[g("sun",l.language),g("mon",l.language),g("tue",l.language),g("wed",l.language),g("thu",l.language),g("fri",l.language),g("sat",l.language)]),$=M(()=>{if(!l.days||l.days.length===0)return[];const x=new Date(l.days[0].date),f=new Date(l.days[l.days.length-1].date),d=x.getDay(),b=f.getDay(),h=[];for(let c=0;c<d;c++)h.push({key:"empty-start-"+c,label:"",content:[],isCurrentMonth:!1,date:null});for(const c of l.days)h.push({key:c.date,label:c.label,content:c.content,isCurrentMonth:!0,date:c.date});for(let c=b+1;c<7;c++)h.push({key:"empty-end-"+c,label:"",content:[],isCurrentMonth:!1,date:null});return h});function m(x){if(!x)return!1;const f=new Date(x),d=new Date;return f.getDate()===d.getDate()&&f.getMonth()===d.getMonth()&&f.getFullYear()===d.getFullYear()}function r(x){const f=l.products.find(d=>d.id===x);return f?f.name:""}return(x,f)=>(o(),u("div",Rt,[t("div",Vt,[(o(!0),u(p,null,D(n.value,d=>(o(),u("div",{key:d,class:"p-2 text-center text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"},a(d),1))),128))]),t("div",Yt,[(o(!0),u(p,null,D($.value,d=>(o(),u("div",{key:d.key,class:_(["min-h-[120px] p-2 border border-gray-200 dark:border-gray-700 rounded-lg flex flex-col",d.isCurrentMonth?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900",m(d.date)?"ring-2 ring-blue-500":""])},[t("div",{class:_(["text-sm font-medium mb-2",d.isCurrentMonth?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-600",m(d.date)?"text-blue-600 dark:text-blue-400":""])},a(d.label),3),t("div",zt,[(o(!0),u(p,null,D(d.content.slice(0,3),b=>(o(),u("div",{key:b.id,onClick:h=>x.$emit("select",b),class:_(["text-xs p-1 rounded cursor-pointer hover:opacity-80 transition-opacity truncate font-medium",b.status==="POSTED"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":b.status==="IN_PRODUCTION"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":b.status==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":b.status==="FINISHED"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"]),title:b.name+" - "+r(b.product)},[t("div",Ht,a(b.name),1),t("div",qt,a(r(b.product)),1),t("div",Wt,a(s(g)(b.status,l.language)),1)],10,Gt))),128)),d.content.length>3?(o(),u("div",{key:0,onClick:b=>x.$emit("showAll",d.content,d.date),class:"text-xs text-gray-500 dark:text-gray-400 text-center cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors"}," +"+a(d.content.length-3)+" "+a(s(g)("more",l.language)),9,Xt)):I("",!0)])],2))),128))])]))}},Kt={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50"},Qt={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Zt={class:"p-6"},te={class:"flex justify-between items-start mb-4"},ee={class:"text-xl font-semibold text-gray-900 dark:text-white"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},se={class:"space-y-4"},ne={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},re={class:"text-gray-900 dark:text-white"},le={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},oe={class:"flex items-center space-x-3"},de={class:"text-gray-900 dark:text-white"},ce={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},ue={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},ie={class:"flex flex-wrap gap-2"},ge={class:"space-y-4"},xe={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},be={class:"text-gray-900 dark:text-white"},ye={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},he={class:"text-gray-900 dark:text-white"},ke={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},me={class:"text-gray-900 dark:text-white"},ve={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},fe={class:"text-gray-900 dark:text-white"},we={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},pe={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},De={class:"grid grid-cols-2 md:grid-cols-3 gap-4"},$e={class:"text-center"},Ce={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},_e={class:"text-center"},Ie={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Ne={class:"text-center"},Se={class:"text-2xl font-bold text-purple-600 dark:text-purple-400"},Fe={class:"text-center"},Me={class:"text-2xl font-bold text-orange-600 dark:text-orange-400"},Oe={class:"text-center"},Ae={class:"text-2xl font-bold text-indigo-600 dark:text-indigo-400"},Pe={class:"text-center"},Ee={class:"text-2xl font-bold text-pink-600 dark:text-pink-400"},Le={__name:"ContentDetailModal",props:{show:Boolean,content:Object,product:Object,creator:Object,producer:Object,t:Function,language:String},emits:["close"],setup(e,{emit:k}){const l=e;function n(m){if(!m)return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";const r=m.toLowerCase();return r==="posted"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":r==="in_production"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":r==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":r==="finished"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":r==="canceled"?"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}const $=m=>{if(!m)return"";let r;if(Array.isArray(m)){const[b,h,c,N=0,T=0]=m;r=new Date(b,h-1,c,N,T)}else r=new Date(m);const x=l.language==="pt"?"pt-PT":"en-US",f=r.toLocaleDateString(x),d=r.toLocaleTimeString(x,{hour:"2-digit",minute:"2-digit"});return`${f} ${d}`};return(m,r)=>e.show?(o(),u("div",Kt,[t("div",Qt,[t("div",Zt,[t("div",te,[t("h3",ee,a(e.content?.name),1),t("button",{onClick:r[0]||(r[0]=x=>m.$emit("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[C(s(X),{class:"w-6 h-6"})])]),t("div",ae,[t("div",se,[t("div",null,[t("label",ne,a(e.t("type",e.language)),1),t("p",re,a(e.t(`contentTypes.${e.content?.type}`,e.language)||e.content?.type),1)]),t("div",null,[t("label",le,a(e.t("product",e.language)),1),t("div",oe,[C(s(vt),{class:"w-8 h-8 text-blue-500 dark:text-blue-400"}),t("p",de,a(e.product?.name||e.content?.productName||"Unknown"),1)])]),t("div",null,[t("label",ce,a(e.t("status",e.language)),1),t("span",{class:_(["inline-block px-3 py-1 text-sm rounded-full",n(e.content?.status)])},a(e.t(e.content?.status,e.language)),3)]),t("div",null,[t("label",ue,a(e.t("channels",e.language)),1),t("div",ie,[(o(!0),u(p,null,D(e.content?.channels||[],x=>(o(),u("span",{key:x.id,class:"inline-block px-2 py-1 text-xs bg-gray-100 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded"},a(x.name),1))),128))])])]),t("div",ge,[t("div",null,[t("label",xe,a(e.t("creator",e.language)),1),t("p",be,a(e.creator?.name||e.content?.creatorName||"Unknown"),1)]),t("div",null,[t("label",ye,a(e.t("producer",e.language)),1),t("p",he,a(e.producer?.name||e.content?.producerName||"Unknown"),1)]),t("div",null,[t("label",ke,a(e.t("created",e.language)),1),t("p",me,a($(e.content?.creationDate)),1)]),t("div",null,[t("label",ve,a(e.t("postDate",e.language)),1),t("p",fe,a($(e.content?.postDate)),1)])])]),e.content?.metrics?(o(),u("div",we,[t("h4",pe,a(e.t("performance",e.language)),1),t("div",De,[t("div",$e,[t("p",Ce,a(e.content.metrics.views),1),r[1]||(r[1]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Views",-1))]),t("div",_e,[t("p",Ie,a(e.content.metrics.likes),1),r[2]||(r[2]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Likes",-1))]),t("div",Ne,[t("p",Se,a(e.content.metrics.reach),1),r[3]||(r[3]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Reach",-1))]),t("div",Fe,[t("p",Me,a(e.content.metrics.engagement),1),r[4]||(r[4]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Engagement",-1))]),t("div",Oe,[t("p",Ae,a(e.content.metrics.comments),1),r[5]||(r[5]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Comments",-1))]),t("div",Pe,[t("p",Ee,a(e.content.metrics.shares),1),r[6]||(r[6]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Shares",-1))])])])):I("",!0)])])])):I("",!0)}},Te={class:"space-y-6 w-full mx-auto"},je={class:"flex justify-between items-center"},Ue={class:"text-2xl font-bold text-gray-900 dark:text-white"},Be={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},Re={class:"flex justify-between items-center mb-4"},Ve={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ye={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},ze={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},Ge=["aria-label"],He={class:"text-xl font-semibold text-gray-900 dark:text-white"},qe=["aria-label"],We={class:"p-6"},Xe={key:2,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50"},Je={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto"},Ke={class:"p-6"},Qe={class:"flex justify-between items-center mb-4"},Ze={class:"text-lg font-semibold text-gray-900 dark:text-white"},ta={class:"space-y-2"},ea=["onClick"],aa={class:"font-medium text-gray-900 dark:text-white"},sa={class:"text-sm text-gray-600 dark:text-gray-400"},na={class:"text-xs mt-1"},ua={__name:"Calendar",setup(e){const{language:k}=bt(),{content:l,products:n,users:$,channels:m,fetchContent:r,fetchProducts:x,fetchUsers:f,fetchChannels:d}=mt(),b=["PENDING","CANCELED","POSTED","IN_PRODUCTION","FINISHED"];xt(async()=>{await Promise.all([r(),x(),f(),d()])});const h=w(new Date),c=w({product:"",channel:"",status:"",user:""}),N=w(!1),T=M(()=>h.value.toLocaleString(k.value==="pt"?"pt-PT":"en-US",{month:"long",year:"numeric"}));function J(){h.value=new Date(h.value.getFullYear(),h.value.getMonth()-1,1)}function K(){h.value=new Date(h.value.getFullYear(),h.value.getMonth()+1,1)}function Q(){c.value={product:"",channel:"",status:"",user:""}}yt(c,async()=>{await Z()},{deep:!0});const Z=async()=>{const i={};c.value.status&&(i.status=c.value.status),c.value.channel&&(i.channelId=c.value.channel),c.value.product&&(i.productId=c.value.product),c.value.user&&(i.userId=c.value.user),await r(i)},tt=M(()=>l.value.filter(i=>!0));function et(i){const v=i.getFullYear(),y=i.getMonth(),A=new Date(v,y+1,0),W=[];for(let S=1;S<=A.getDate();S++){const lt=new Date(v,y,S);W.push({date:lt.toISOString(),label:S,content:tt.value.filter(P=>{if(!P.postDate)return!1;let F;if(Array.isArray(P.postDate)){const[ot,dt,ct,ut=0,it=0,gt=0]=P.postDate;F=new Date(ot,dt-1,ct,ut,it,gt)}else F=new Date(P.postDate);return F.getFullYear()===v&&F.getMonth()===y&&F.getDate()===S})})}return W}const at=M(()=>et(h.value)),O=w(!1),j=w(null),U=w(null),B=w(null),R=w(null),V=w(!1),G=w(null),Y=w([]);function H(i){j.value=i,U.value=n.value.find(v=>v.id===i.productId),B.value=$.value.find(v=>v.id===i.creatorId),R.value=$.value.find(v=>v.id===i.producerId),O.value=!0}function st(i,v){Y.value=i,G.value=v,V.value=!0}function q(){V.value=!1,Y.value=[],G.value=null}function nt(i){q(),H(i)}function rt(){O.value=!1,j.value=null,U.value=null,B.value=null,R.value=null}return(i,v)=>(o(),u("div",Te,[t("div",je,[t("h2",Ue,a(s(g)("calendar",s(k))),1),t("button",{class:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-base font-semibold",onClick:v[0]||(v[0]=y=>N.value=!N.value)},[C(s(pt),{class:"w-4 h-4 mr-2"}),kt(" "+a(s(g)("filters",s(k))),1)])]),N.value?(o(),u("div",Be,[t("div",Re,[t("h3",Ve,a(s(g)("filters",s(k))),1),t("button",{onClick:Q,class:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300"},a(s(g)("clearAll",s(k))),1)]),C(Bt,{filters:c.value,products:s(n),channels:s(m),statuses:b,users:s($),t:s(g),language:s(k)},null,8,["filters","products","channels","users","t","language"])])):I("",!0),t("div",Ye,[t("div",ze,[t("button",{onClick:J,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":s(g)("previousMonth",s(k))},[C(s(ft),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})],8,Ge),t("h3",He,a(T.value),1),t("button",{onClick:K,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors","aria-label":s(g)("nextMonth",s(k))},[C(s(wt),{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})],8,qe)]),t("div",We,[C(Jt,{days:at.value,products:s(n),language:s(k),onSelect:H,onShowAll:st},null,8,["days","products","language"])])]),O.value?(o(),ht(Le,{key:1,show:O.value,content:j.value,product:U.value,creator:B.value,producer:R.value,t:s(g),language:s(k),onClose:rt},null,8,["show","content","product","creator","producer","t","language"])):I("",!0),V.value?(o(),u("div",Xe,[t("div",Je,[t("div",Ke,[t("div",Qe,[t("h3",Ze,a(s(g)("contentForDate",s(k))),1),t("button",{onClick:q,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[C(s(X),{class:"w-6 h-6"})])]),t("div",ta,[(o(!0),u(p,null,D(Y.value,y=>(o(),u("div",{key:y.id,onClick:A=>nt(y),class:_(["p-3 rounded-lg cursor-pointer hover:opacity-80 transition-opacity border-l-4",y.status==="POSTED"?"bg-green-50 border-green-500 dark:bg-green-900/20":y.status==="IN_PRODUCTION"?"bg-blue-50 border-blue-500 dark:bg-blue-900/20":y.status==="PENDING"?"bg-yellow-50 border-yellow-500 dark:bg-yellow-900/20":y.status==="FINISHED"?"bg-purple-50 border-purple-500 dark:bg-purple-900/20":"bg-red-50 border-red-500 dark:bg-red-900/20"])},[t("div",aa,a(y.name),1),t("div",sa,a(s(n).find(A=>A.id===y.productId)?.name),1),t("div",na,[t("span",{class:_(["px-2 py-1 rounded-full",y.status==="POSTED"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":y.status==="IN_PRODUCTION"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":y.status==="PENDING"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":y.status==="FINISHED"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},a(s(g)(y.status,s(k))),3)])],10,ea))),128))])])])])):I("",!0)]))}};export{ua as default};
